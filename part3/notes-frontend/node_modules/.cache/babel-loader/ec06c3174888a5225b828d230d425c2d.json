{"ast":null,"code":"var _jsxFileName = \"/Users/abigailnottingham/HTML Projects/fullstack_open/fullstack_an/part3/notes-frontend/src/components/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport loginService from \"../services/login\";\nimport noteService from \"../services/notes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = ({\n  setUser,\n  setErrorMessage,\n  user,\n  errorMessage\n}) => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginVisible, setLoginVisible] = useState(false);\n\n  const handleLogin = async event => {\n    event.preventDefault();\n\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n      window.localStorage.setItem(\"loggedNoteappUser\", JSON.stringify(user));\n      noteService.setToken(user.token);\n      setUser(user);\n      setUsername(\"\");\n      setPassword(\"\");\n    } catch (exception) {\n      setErrorMessage(\"Wrong credentials\");\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const hideWhenVisible = {\n    display: loginVisible ? \"none\" : \"\"\n  };\n  const showWhenVisible = {\n    display: loginVisible ? \"\" : \"none\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: hideWhenVisible,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setLoginVisible(true),\n        children: \"log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: showWhenVisible,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            id: \"username\",\n            children: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"username\",\n            name: \"Username\",\n            placeholder: \"enter username\",\n            value: username,\n            onChange: ({\n              target\n            }) => setUsername(target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            id: \"password\",\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            name: \"Password\",\n            placeholder: \"enter password\",\n            value: password,\n            onChange: ({\n              target\n            }) => setPassword(target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginForm, \"w0bjzHO3dbHQXd8XXj/NlV6q848=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/abigailnottingham/HTML Projects/fullstack_open/fullstack_an/part3/notes-frontend/src/components/LoginForm.js"],"names":["React","useState","loginService","noteService","LoginForm","setUser","setErrorMessage","user","errorMessage","username","setUsername","password","setPassword","loginVisible","setLoginVisible","handleLogin","event","preventDefault","login","window","localStorage","setItem","JSON","stringify","setToken","token","exception","setTimeout","hideWhenVisible","display","showWhenVisible","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport loginService from \"../services/login\"\nimport noteService from \"../services/notes\"\n\nconst LoginForm = ({ setUser, setErrorMessage, user, errorMessage }) => {\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [loginVisible, setLoginVisible] = useState(false)\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    \n    try {\n      const user = await loginService.login({\n        username, password\n      })\n      window.localStorage.setItem(\n        \"loggedNoteappUser\", JSON.stringify(user)\n      )\n      noteService.setToken(user.token)\n      setUser(user)\n      setUsername(\"\")\n      setPassword(\"\")\n    } catch (exception) {\n      setErrorMessage(\"Wrong credentials\")\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const hideWhenVisible = { display: loginVisible ? \"none\" : \"\" }\n  const showWhenVisible = { display: loginVisible ? \"\" : \"none\" }\n\n  return(\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={() => setLoginVisible(true)}>\n          log in\n        </button>\n      </div>\n      <div style={showWhenVisible}>\n        <form onSubmit={handleLogin}>\n          <div>\n            <label id=\"username\">username</label>\n            <input \n              type=\"text\" \n              id=\"username\"\n              name=\"Username\"\n              placeholder=\"enter username\"\n              value={username}\n              onChange={({ target }) => setUsername(target.value)}\n              />\n          </div>\n          <div>\n            <label id=\"password\">password</label>\n            <input \n              type=\"password\" \n              id=\"password\"\n              name=\"Password\"\n              placeholder=\"enter password\"\n              value={password}\n              onChange={({ target }) => setPassword(target.value)}\n              />\n          </div>\n          <button type=\"submit\">login</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}